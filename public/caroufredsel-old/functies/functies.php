<?php	/*	Een reeks afbeeldingen ophalen			$dir: de uit te lezen dir			$uit: uit te sluiten afbeeldingen 			$max: maximum aantal afbeeldingen			$ran: shuffelen of niet			*/	function reeks_afbeeldingen($dir = 'images/kolom', 	$uit = array(), $max = 1000, $ran = true) {		global $site;		$afb = array();		$dir = $site['root_rel'].$dir;		if (!is_array($uit)) $uit = array($uit);		if ($handle = opendir($dir)) {			while (false !== ($fil = readdir($handle))) {		    	if ($fil == '.' || $fil == '..')		continue;		    	if (is_dir($fil))						continue;		    	if (strtolower($fil) == '.ds_store')	continue;		    	if (!is_file($dir.'/'.$fil))			continue;		    	if (in_array($fil, $uit))				continue;		    			    	$afb[] = $dir.'/'.$fil;			}							closedir($handle);		}		if ($ran) shuffle($afb);				return array_slice($afb, 0, $max);	}	//	Alt-tekst bij afbeelding ophalen	function get_image_alt($afb) {		return str_replace(array('-', '_'), ' ', current(explode('.', end(explode('/', $afb)))));	}	//	Test of de link-pagina de huidige pagina is	function menu_link($href, $tekst, $id = '', $class = '', $title = '', $args = '') {		global $selected_menu_link;		$class = (strlen($class) > 0) ? array($class) : array();		if (item_selected($href)) {			$selected_menu_link = true;			$menu_link = menu_li('span', menu_attributen($id), $tekst, $class);		} else {			$menu_link = menu_li('a', menu_attributen($id, $href, $title, $args), $tekst, $class);			$selected_menu_link = false;		}		return $menu_link;	}		//	Zet het menu-item in een li	function menu_li($element, $element_attr, $tekst, $class = '') {		global $selected_menu_link;		if ($selected_menu_link) 	$class[] = 'nodot';		if (sizeof($class) > 0) 	$class	 = ' class="'.implode(' ', $class).'"';		else						$class	 = '';		return '<li'.$class.'><'.$element.$element_attr.'><span>'.$tekst.'</span></'.$element.'></li>';	}		//	Test of de link-map de huidige map is of de link-pagina de huidige pagina is	function item_selected($href) {		global $site;		$map 	= explode('/', $site['abs_page']);				  array_pop($map);		$map 	= implode('/', $map);		if ($href == $site['abs_page']) return true;		if (current(explode('.', end(explode('/', $site['abs_page'])))) == 'index') {			if ($href == $map ||				$href == $map.'/')		return true;		}		return false;	}	//	Zet attributen in element	function menu_attributen($id = '', $href = '', $title = '',$args = '') {		if (strlen($id) 	> 0) $id 	= ' id="'.$id.'"';		if (strlen($href) 	> 0) $href	= ' href="'.$href.$args.'"';		if (strlen($title)	> 0) $title	= ' title="'.$title.'"';		return $id.$href.$title;	}?>